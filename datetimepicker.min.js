function datetimepicker(e){var t={};t.element=e;var n=new Date,a=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return t.document=function(e){return document.querySelector(e)},t.init=function(){let e=document.querySelector(t.element);if(!e)throw new Error("Element not exist.");if("input"!=e.nodeName.toLowerCase())throw new Error("Selected element is not an input.");return e.setAttribute("readonly","true"),e.addEventListener("click",function(e){t.document("#calWrap")&&(t.document("#calWrap").remove(),t.document("style").remove()),t.setStyles().drawCalContainer(e).drawBody().drawCalDaysBody().eventListener()}),this},t.setStyles=function(){let e=document.createElement("style");return e.innerHTML="input[type=number]{-moz-appearance:textfield!important}input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none!important}#calWrap{width:260px;border:1px solid #bbb}#calWrapper{position:relative}#calContainer{position:relative;width:inherit;height:inherit}#calHeader{display:flex;width:100%;justify-content:space-around;align-items:center;height:100%;border-bottom:1px solid #bbb}#calDaysHeader{margin:0;padding:10px 0;font-size:13px;font-weight:700;border-bottom:1px solid #bbb}#calDaysBody{margin:0;padding:5px 0;border-bottom:1px solid #bbb}.calDateNow{font-size:15px;background:#ccc;font-weight:700}#calDays{display:inline-block;width:14.28%;text-align:center;font-size:15px;cursor:pointer}#calDays:hover{font-size:15px;background:#ddd;font-weight:700}#timeContainer{width:100%;display:flex;justify-content:center;text-align:center;font-weight:700;font-size:15px}#timeText{padding:5px 5px}#calHeaderOption{font-weight:700;padding:15px;display:flex}.headText{padding:0 10px;font-weight:700}#calHeaderText{display:inline-block;width:14.28%;color:#666;font-weight:700;text-align:center}#calClose{position:absolute;display:block;right:0;margin-top:-20px;margin-right:-8px;border-radius:50%;cursor:pointer;background:#ddd;padding:0 3px;font-size:12px}.calPointer{cursor:pointer!important}.timeInput{width:20px;border:1px solid #bbb;text-align:center;font-weight:700}.calArrow{padding:0 5px;cursor:pointer}.calArrow:hover{background:#d9d4d1;font-weight:bolder}.from_prev_month{color:#696969;}.from_next_month{color:#696969;}",document.head.appendChild(e),this},t.drawCalContainer=function(e){var n=document.createElement("div");n.style.display="block",n.style.position="fixed",n.style.width="260px",n.style.zIndex="99999999",n.id="calWrap";let a=e.target.getBoundingClientRect();return n.style.top=a.top+e.target.offsetHeight+"px",n.style.left=a.left+"px",document.body.appendChild(n),t.document("#calWrap").innerHTML='<div id="calWrapper"><div id="calContainer"></div></div>',this},t.drawBody=function(){let e=t.document("#calContainer"),r='<div id="calHeader"><div id="calHeaderOption"><span id="prevMonth" class="calPointer calArrow">&#171;</span><span id="MonthVal" class="headText">'+a[n.getMonth()]+'</span><span id="nextMonth" class="calPointer calArrow">&#187;</span></div><div id="calHeaderOption"><span id="prevYear" class="calPointer calArrow">&#171;</span><span id="yearVal" class="headText">'+n.getFullYear()+'</span><span id="nextYear" class="calPointer calArrow">&#187;</span></div><span id="calClose">&#x274C;</span></div>';r+='<div id="calDaysHeader">';for(let e=0;e<i.length;e++)r+='<div id="calHeaderText">'+i[e]+"</div>";r+='</div></div><div id="calDaysBody"></div>';let o=n.getHours()>12||0==n.getHours?n.getHours()-12:"12",d=n.getMinutes(),u=n.getHours()>12?"PM":"AM";r+='<div id="timeContainer"><div id="timeText"><span id="addHour" class="calPointer">&#x25B2;</span><input type="number" class="timeInput" id="hourText" value='+t.padNumber(t.setHour(o))+'><span id="subHour" class="calPointer">&#x25BC;</span></div><span id="timeText">:</span><div id="timeText"><span id="addMinute" class="calPointer">&#x25B2;</span><input type="number"  class="timeInput" id="minuteText" value='+t.padNumber(t.setMinutes(d))+'><span id="subMinute" class="calPointer">&#x25BC;</span></div><span id="timeText">:</span><div id="timeText"><span id="timeAnte" class="calPointer">&#x25B2;</span><span id="amOrpmText">'+u+'</span><span id="timePost" class="calPointer">&#x25BC;</span></div></div>';t.document("#MonthVal"),t.document("#yearVal");return e.innerHTML=r,this},t.drawCalDaysBody=function(){let e=parseInt(a.indexOf(t.document("#MonthVal").innerHTML)),i=parseInt(t.document("#yearVal").innerHTML),r=new Date(i,e,0).getDate(),o=new Date(i,e+1,0).getDate(),d=(new Date(i,e+2,0).getDate(),a[e]+" 1 "+i),u=new Date(d).getDay(),l=t.document("#calDaysBody");l.innerHTML="";let s="";for(let t=1,d=1;t<=42;t++){let l=r-(u-t);if(u>=t)s+='<div id="calDays" class="from_prev_month">'+l+"</div>";else if(t>=u&&t<=o+u){s+=a[n.getMonth()]+" "+n.getDate()+" "+n.getFullYear()==a[e]+" "+(t-u)+" "+i?'<div id="calDays" class="calDateNow">'+(t-u)+"</div>":'<div id="calDays">'+(t-u)+"</div>"}else s+='<div id="calDays" class="from_next_month">'+d+"</div>",d++}return l.innerHTML=s,this},t.setEvent=function(e,t){document.querySelector(e).onclick=t},t.setChange=function(e,t){document.querySelector(e).oninput=t},t.eventListener=function(){t.setEvent("#calClose",function(){let e=t.document("#hourText").value;0==e.length&&(e=t.padNumber(t.setHour(n.getHours()))),t.document("#hourText").value=t.padNumber(e);let a=t.document("#minuteText").value;0==a.length&&(a=t.padNumber(t.setHour(n.getMinutes()))),t.document("#minuteText").value=t.padNumber(a),t.setOutput(),t.document("#calWrap").remove(),t.document("style").remove()}),t.setEvent("#nextMonth",function(){let e=t.document("#MonthVal");12==(e=parseInt(a.indexOf(e.innerHTML)+1))&&(e=0),t.selectedMonth=a[e],t.document("#MonthVal").innerHTML=a[e],t.drawCalDaysBody(),t.setOutput()}),t.setEvent("#prevMonth",function(){let e=t.document("#MonthVal");(e=parseInt(a.indexOf(e.innerHTML)-1))<0&&(e=11),t.selectedMonth=a[e],t.document("#MonthVal").innerHTML=a[e],t.drawCalDaysBody(),t.setOutput()}),t.setEvent("#nextYear",function(){let e=parseInt(t.document("#yearVal").innerHTML)+1;t.document("#yearVal").innerHTML=e,t.drawCalDaysBody(),t.setOutput()}),t.setEvent("#prevYear",function(){let e=parseInt(t.document("#yearVal").innerHTML)-1;t.document("#yearVal").innerHTML=e,t.drawCalDaysBody(),t.setOutput()}),t.setEvent("#addHour",function(){let e=parseInt(t.document("#hourText").value)+1;t.document("#hourText").value=t.padNumber(t.setHour(e)),t.setOutput()}),t.setEvent("#subHour",function(){let e=parseInt(t.document("#hourText").value)-1;t.document("#hourText").value=t.padNumber(t.setHour(e,"sub")),t.setOutput()}),t.setChange("#hourText",function(){let e=t.document("#hourText").value;e.length>2&&(e=e.substring(0,1)),e>12&&(e=12),t.document("#hourText").value=e,t.setOutput()}),t.setEvent("#addMinute",function(){let e=parseInt(t.document("#minuteText").value)+1;t.document("#minuteText").value=t.padNumber(t.setMinutes(e)),t.setOutput()}),t.setEvent("#subMinute",function(){let e=parseInt(t.document("#minuteText").value)-1;t.document("#minuteText").value=t.padNumber(t.setMinutes(e,"sub")),t.setOutput()}),t.setChange("#minuteText",function(){let e=t.document("#minuteText").value;e.length>2&&(e=e.substring(0,1)),e>60&&(e=60),t.document("#minuteText").value=e,t.setOutput()}),t.setEvent("#timePost",function(){let e=t.document("#amOrpmText");"AM"==e.innerHTML?e.innerHTML="PM":e.innerHTML="AM",t.setOutput()}),t.setEvent("#timeAnte",function(){let e=t.document("#amOrpmText");"AM"==e.innerHTML?e.innerHTML="PM":e.innerHTML="AM",t.setOutput()}),t.setEvent("#calDaysBody",function(e){let n=e.target;if(n!=e.currentTarget){let e=a.indexOf(t.document("#MonthVal").innerHTML);e="from_prev_month"==n.className?0!=e?a[e-1]:a[11]:"from_next_month"==n.className?11==e?a[0]:a[e+1]:a[e],t.selectedDay=n.innerHTML,t.selectedMonth=e,t.setOutput()}})},t.setHour=function(e,t=""){return"sub"==t?0==e&&(e=12):e>12&&(e-=12),e},t.setMinutes=function(e,t=""){return"sub"==t?e<0&&(e=60):e>60&&(e="00"),e},t.padNumber=function(e){let t=e+"";return t=1==t.length?"0"+t:t},t.setOutput=function(){null==t.selectedMonth&&(t.selectedMonth=a[n.getMonth()]),null==t.selectedDay&&(t.selectedDay=n.getDate());let e=t.selectedMonth+" "+t.selectedDay+" "+t.document("#yearVal").innerHTML+" "+t.document("#hourText").value+":"+t.document("#minuteText").value+" "+t.document("#amOrpmText").innerHTML;t.document(t.element).value=e},t.init()}
